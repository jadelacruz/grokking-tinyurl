(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9122)}])},9122:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return j},default:function(){return x}});var a=r(7568),t=r(655),i=r(5893),s=(r(8210),r(7294)),l=r(357),c=r.n(l);r(4623);var u=function(e){var n=e.url,r=e.tinyUrl,l=e.eventListeners,u=(e.urlInvalid,l.changedUrl),o=l.tinifiedUrl,d=l.tinyUrlClicked,f=l.clearFields,b=(0,s.useState)(null),h=b[0],v=b[1];return(0,i.jsxs)("form",{className:"jsx-a4b714595f91c8a",children:[(0,i.jsx)(c(),{id:"a4b714595f91c8a",children:'.disable-input.jsx-a4b714595f91c8a{background-color:"#e9ecef";opacity:1}'}),(0,i.jsxs)("div",{className:"jsx-a4b714595f91c8a mb-3",children:[(0,i.jsx)("label",{className:"jsx-a4b714595f91c8a form-label",children:"URL"}),(0,i.jsx)("textarea",{required:!0,id:"url",placeholder:"Required URL",value:n,onChange:function(e){return u(e)},className:"jsx-a4b714595f91c8a "+(["form-control",!0===h?"is-valid":"",!1===h?"is-invalid":""].join(" ")||"")}),(0,i.jsx)("div",{className:"jsx-a4b714595f91c8a invalid-feedback",children:"Invalid URL"})]}),(0,i.jsxs)("div",{className:"jsx-a4b714595f91c8a mb-3",children:[(0,i.jsx)("label",{className:"jsx-a4b714595f91c8a form-label",children:"Tinified URL"}),(0,i.jsx)("input",{readOnly:!0,style:{backgroundColor:"#e9ecef",cursor:"pointer"},placeholder:"Output",id:"tinyUrl",value:r,onClick:function(e){return d(e)},className:"jsx-a4b714595f91c8a disable-input form-control"})]}),(0,i.jsx)("div",{className:"jsx-a4b714595f91c8a mb-3",children:(0,i.jsx)("button",{type:"button",onClick:function(){var e=(0,a.Z)((function(e){var n;return(0,t.__generator)(this,(function(r){switch(r.label){case 0:return[4,o(e)];case 1:return n=r.sent(),[2,v(n)]}}))}));return function(n){return e.apply(this,arguments)}}(),className:"jsx-a4b714595f91c8a btn btn-primary",children:"Submit"})}),(0,i.jsx)("div",{className:"jsx-a4b714595f91c8a mb-3",children:(0,i.jsx)("button",{type:"button",onClick:function(e){return v(null),f(e)},className:"jsx-a4b714595f91c8a btn btn-warning",children:"Clear"})})]})};function o(e){var n=e.children,r=e.style,a=void 0===r?{}:r;return(0,i.jsx)("div",{className:"card",style:a,children:n})}function d(e){var n=e.children;return(0,i.jsx)("div",{className:"card-body",children:n})}function f(e){var n=e.value;return(0,i.jsx)("h5",{className:"card-title",children:n})}var b={"Content-Type":"application/json"},h={tinifiedUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("/api/tinier",{method:"post",body:JSON.stringify({userUrl:e}),headers:b})}};var v=h;var j=!0,x=function(e){var n=(0,s.useState)(e.url),r=n[0],l=n[1],c=(0,s.useState)(e.tinyUrl),b=c[0],h=c[1],j={changedUrl:function(e){return l(e.target.value)},tinifiedUrl:function(){var e=(0,a.Z)((function(e){var n,a,i,s;return(0,t.__generator)(this,(function(e){switch(e.label){case 0:return[4,v.tinifiedUrl(r)];case 1:return(n=e.sent()).status>=400&&!n.ok?(h(""),[2,!1]):[4,n.json()];case 2:return a=e.sent(),i=a.shortUrl,s=a.urlCode,h(i+"api/"+s),alert("Tinified URL has been generated."),[2,!0]}}))}));return function(n){return e.apply(this,arguments)}}(),tinyUrlClicked:function(e){var n=e.target.value;window.open(n,"_blank")},clearFields:function(e){e.preventDefault(),confirm("Are you sure you want to reset the fields?")&&(l(""),h(""))}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o,{style:{marginTop:"70px"},children:(0,i.jsxs)(d,{children:[(0,i.jsx)(f,{value:"TinyURL (NextJS + MongoDB)"}),(0,i.jsx)(u,{url:r,tinyUrl:b,eventListeners:j})]})})})}}},function(e){e.O(0,[614,662,421,774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);